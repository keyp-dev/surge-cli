# Surge TUI UI Preview

This document showcases UI layouts for all Surge TUI features, including existing functionality and planned new features (marked as `[FEATURE]`).

---

## Feature Overview

| View | Feature | Status | Shortcut |
|------|---------|--------|----------|
| **Overview** | System status overview | âœ… Implemented | `1` |
| | MITM toggle | ğŸš§ [FEATURE] Phase 2 | `i` |
| | Capture toggle | ğŸš§ [FEATURE] Phase 2 | `c` |
| **Policies** | Policy group management | âœ… Implemented | `2` |
| | Policy latency testing | âœ… Implemented | `t` |
| | Policy selection | âœ… Implemented | `Enter` |
| | Search policies | âœ… Implemented | `/` |
| **Requests** | Request history | âœ… Implemented | `3` |
| | Group by app | âœ… Implemented | `g` |
| | Search requests | âœ… Implemented | `/` |
| **Connections** | Active connections | âœ… Implemented | `4` |
| | Kill connection | ğŸš§ [FEATURE] Phase 1 | `k` |
| | Group by app | âœ… Implemented | `g` |
| | Search connections | âœ… Implemented | `/` |
| **DNS** | View DNS cache | ğŸš§ [FEATURE] Phase 3 | `5` |
| | Flush DNS cache | ğŸš§ [FEATURE] Phase 3 | `f` |
| | Search records | ğŸš§ [FEATURE] Phase 3 | `/` |

---

## UI Previews

### 1. Overview View (Enhanced)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [1] Overview  [2] Policies  [3] Requests  [4] Connections  [5] DNS    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚â”Œâ”€ Overview â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚â”‚                                                                       â”‚â”‚
â”‚â”‚  Surge Status: âœ“ Running                                             â”‚â”‚
â”‚â”‚  HTTP API: âœ“ Available                                               â”‚â”‚
â”‚â”‚  Outbound Mode: Rule  [m]Toggle                                      â”‚â”‚
â”‚â”‚                                                                       â”‚â”‚
â”‚â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚â”‚
â”‚â”‚  â”‚ ğŸš§ [FEATURE Phase 2]                           â”‚                 â”‚â”‚
â”‚â”‚  â”‚ MITM: âœ“ Enabled  [i]Toggle                     â”‚                 â”‚â”‚
â”‚â”‚  â”‚ Capture: âœ— Disabled  [c]Toggle                 â”‚                 â”‚â”‚
â”‚â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚â”‚
â”‚â”‚                                                                       â”‚â”‚
â”‚â”‚  Statistics                                                          â”‚â”‚
â”‚â”‚                                                                       â”‚â”‚
â”‚â”‚    Policies: 156                                                     â”‚â”‚
â”‚â”‚    Policy Groups: 8                                                  â”‚â”‚
â”‚â”‚    Active Connections: 42                                            â”‚â”‚
â”‚â”‚    Recent Requests: 100                                              â”‚â”‚
â”‚â”‚                                                                       â”‚â”‚
â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚ [q]uit  [?]help                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Description:**
- âœ… Existing features: Surge status, API status, outbound mode, statistics
- ğŸš§ **[FEATURE Phase 2]**: MITM and Capture toggles

---

### 2. Policies View (Implemented)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [1] Overview  [2] Policies  [3] Requests  [4] Connections  [5] DNS    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚â”Œâ”€ Policy Groups [â†‘â†“]Select [Enter]Enter [t]Test [/]Search â”¬â”€ Policy Details â”€â”â”‚
â”‚â”‚                                                 â”‚                     â”‚â”‚
â”‚â”‚  â–¶ Proxy                                        â”‚  âœ“ us-bwg-la        â”‚â”‚
â”‚â”‚      â†’ us-bwg-la (28ms)                         â”‚    Shadowsocks      â”‚â”‚
â”‚â”‚                                                 â”‚    28ms             â”‚â”‚
â”‚â”‚    Auto                                         â”‚                     â”‚â”‚
â”‚â”‚      â†’ ğŸŒ Asia (Fallback)                       â”‚  us-bwg-sf          â”‚â”‚
â”‚â”‚                                                 â”‚    Shadowsocks      â”‚â”‚
â”‚â”‚    AdBlock                                      â”‚    45ms             â”‚â”‚
â”‚â”‚      â†’ REJECT                                   â”‚                     â”‚â”‚
â”‚â”‚                                                 â”‚  jp-linode-tokyo    â”‚â”‚
â”‚â”‚    ğŸŒ Asia                                      â”‚    VMess            â”‚â”‚
â”‚â”‚      â†’ sg-linode (12ms)                         â”‚    12ms             â”‚â”‚
â”‚â”‚                                                 â”‚                     â”‚â”‚
â”‚â”‚    ğŸŒ US                                        â”‚  ...                â”‚â”‚
â”‚â”‚      â†’ us-bwg-la (28ms)                         â”‚                     â”‚â”‚
â”‚â”‚                                                 â”‚                     â”‚â”‚
â”‚â”‚    Final                                        â”‚                     â”‚â”‚
â”‚â”‚      â†’ DIRECT                                   â”‚                     â”‚â”‚
â”‚â”‚                                                 â”‚                     â”‚â”‚
â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚ [q]uit  [?]help                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Description:**
- âœ… Fully implemented: policy group list, policy details, latency display, testing, selection, search

---

### 3. Requests View (Implemented)

#### Normal Mode

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [1] Overview  [2] Policies  [3] Requests  [4] Connections  [5] DNS    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚â”Œâ”€ Request History [â†‘â†“]Select [/]Search [g]Group â”¬â”€ Request Details â”€â”€â”€â”â”‚
â”‚â”‚                                            â”‚                          â”‚â”‚
â”‚â”‚  â–¶ âœ“ api.github.com/user                  â”‚  âœ“ Completed             â”‚â”‚
â”‚â”‚      Proxy                  â†‘2K â†“45K       â”‚                          â”‚â”‚
â”‚â”‚                                            â”‚  URL:                    â”‚â”‚
â”‚â”‚    âœ“ fonts.googleapis.com/css              â”‚  api.github.com/user     â”‚â”‚
â”‚â”‚      DIRECT                 â†‘1K â†“12K       â”‚                          â”‚â”‚
â”‚â”‚                                            â”‚  GET â†’ 200               â”‚â”‚
â”‚â”‚    â—‹ ws.example.com/chat                   â”‚                          â”‚â”‚
â”‚â”‚      Proxy                  â†‘5K â†“8K        â”‚  Host: 1.2.3.4           â”‚â”‚
â”‚â”‚                                            â”‚                          â”‚â”‚
â”‚â”‚    âœ— timeout.example.com                   â”‚  Rule: DOMAIN-SUFFIX    â”‚â”‚
â”‚â”‚      Proxy                  â†‘0K â†“0K        â”‚  Policy: Proxy           â”‚â”‚
â”‚â”‚                                            â”‚                          â”‚â”‚
â”‚â”‚  ... (46 more)                             â”‚  Traffic Statistics      â”‚â”‚
â”‚â”‚                                            â”‚    Upload: 2 KB          â”‚â”‚
â”‚â”‚                                            â”‚    Download: 45 KB       â”‚â”‚
â”‚â”‚                                            â”‚                          â”‚â”‚
â”‚â”‚                                            â”‚  Process:                â”‚â”‚
â”‚â”‚                                            â”‚  /Applications/Chrome    â”‚â”‚
â”‚â”‚                                            â”‚                          â”‚â”‚
â”‚â”‚                                            â”‚  Time: 2 minutes ago     â”‚â”‚
â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚ [q]uit  [?]help                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Group Mode

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [1] Overview  [2] Policies  [3] Requests  [4] Connections  [5] DNS    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚â”Œâ”€ Apps [h/l]Switch [g]Mode â”€â”¬â”€ Requests: Chrome [â†‘â†“]Select [/]Search â”¬â”€ Detailsâ”‚
â”‚â”‚                              â”‚                                 â”‚      â”‚â”‚
â”‚â”‚  â–¶ Chrome (45)               â”‚  â–¶ âœ“ api.github.com            â”‚ âœ“ Co â”‚â”‚
â”‚â”‚                              â”‚      Proxy      â†‘2K â†“45K       â”‚      â”‚â”‚
â”‚â”‚    Safari (23)               â”‚                                 â”‚ URL: â”‚â”‚
â”‚â”‚                              â”‚    âœ“ fonts.googleapis.com       â”‚ api. â”‚â”‚
â”‚â”‚    WeChat (12)               â”‚      DIRECT     â†‘1K â†“12K       â”‚      â”‚â”‚
â”‚â”‚                              â”‚                                 â”‚ GET  â”‚â”‚
â”‚â”‚    Telegram (8)              â”‚    â—‹ ws.example.com            â”‚      â”‚â”‚
â”‚â”‚                              â”‚      Proxy      â†‘5K â†“8K        â”‚ Host â”‚â”‚
â”‚â”‚    Spotify (5)               â”‚                                 â”‚      â”‚â”‚
â”‚â”‚                              â”‚  ... (42 more)                  â”‚ Rule â”‚â”‚
â”‚â”‚    ... (15 more)             â”‚                                 â”‚ Poli â”‚â”‚
â”‚â”‚                              â”‚                                 â”‚      â”‚â”‚
â”‚â”‚                              â”‚                                 â”‚ Traf â”‚â”‚
â”‚â”‚                              â”‚                                 â”‚      â”‚â”‚
â”‚â”‚                              â”‚                                 â”‚      â”‚â”‚
â”‚â”‚                              â”‚                                 â”‚      â”‚â”‚
â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚ [q]uit  [?]help                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Description:**
- âœ… Fully implemented: request list, details, grouping, search, status icons

---

### 4. Connections View (Enhanced)

#### Normal Mode (Enhanced)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [1] Overview  [2] Policies  [3] Requests  [4] Connections  [5] DNS    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚â”Œâ”€ Active Connections [â†‘â†“]Select [/]Search [g]Group [k]Kill â”¬â”€ Connection Details â”€â”â”‚
â”‚â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                         â”‚â”‚
â”‚â”‚  â–¶ â—‹ api.example  â”‚ ğŸš§ [FEATURE Phase 1]â”‚  â”‚  â—‹ In Progress          â”‚â”‚
â”‚â”‚      Proxy   â†‘12K â”‚ [k] Kill shortcut    â”‚  â”‚                         â”‚â”‚
â”‚â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  URL:                   â”‚â”‚
â”‚â”‚    â—‹ cdn.example.com/video.mp4              â”‚  api.example.com/stream â”‚â”‚
â”‚â”‚      DIRECT                   â†‘0K â†“2.5M     â”‚                         â”‚â”‚
â”‚â”‚                                             â”‚  GET â†’ -                â”‚â”‚
â”‚â”‚    â—‹ ws.slack.com/socket                    â”‚                         â”‚â”‚
â”‚â”‚      Proxy                    â†‘5K â†“8K       â”‚  Host: 1.2.3.4          â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â”‚  ... (39 more)                              â”‚  Rule: DOMAIN-SUFFIX    â”‚â”‚
â”‚â”‚                                             â”‚  Policy: Proxy           â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â”‚                                             â”‚  Traffic Statistics      â”‚â”‚
â”‚â”‚                                             â”‚    Upload: 12 KB         â”‚â”‚
â”‚â”‚                                             â”‚    Download: 345 KB      â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â”‚                                             â”‚  Process:                â”‚â”‚
â”‚â”‚                                             â”‚  /usr/bin/curl           â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚ [q]uit  [?]help                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Kill Connection Confirmation Dialog

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [1] Overview  [2] Policies  [3] Requests  [4] Connections  [5] DNS    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚â”Œâ”€ Active Connections [â†‘â†“]Select [/]Search [g]Group [k]Kill â”¬â”€ Connection Details â”€â”â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â”‚  â–¶ â—‹ api.example  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚â”‚
â”‚â”‚      Proxy   â†‘12K â”‚ ğŸš§ [FEATURE Phase 1]               â”‚            â”‚â”‚
â”‚â”‚                   â”‚ Confirm Kill Connection             â”‚            â”‚â”‚
â”‚â”‚    â—‹ cdn.example. â”‚                                     â”‚            â”‚â”‚
â”‚â”‚      DIRECT       â”‚ Target: api.example.com/stream      â”‚            â”‚â”‚
â”‚â”‚                   â”‚ Process: /usr/bin/curl              â”‚            â”‚â”‚
â”‚â”‚    â—‹ ws.slack.com â”‚ Traffic: â†‘12KB â†“345KB               â”‚            â”‚â”‚
â”‚â”‚      Proxy        â”‚                                     â”‚            â”‚â”‚
â”‚â”‚                   â”‚ Are you sure to kill this connection?â”‚            â”‚â”‚
â”‚â”‚  ... (39 more)    â”‚                                     â”‚            â”‚â”‚
â”‚â”‚                   â”‚ [Enter] Confirm  [ESC] Cancel       â”‚            â”‚â”‚
â”‚â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚ [q]uit  [?]help                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Description:**
- âœ… Existing features: connection list, details, grouping, search, status icons
- ğŸš§ **[FEATURE Phase 1]**: Kill connection feature (`k` key + confirmation dialog)

---

### 5. DNS View (New Feature)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [1] Overview  [2] Policies  [3] Requests  [4] Connections  [5] DNS    â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚â”Œâ”€ DNS Cache [â†‘â†“]Select [/]Search [f]Flush â”€â”€â”€â”€â”€â”€â”€â”¬â”€ Record Details â”€â”€â”€â”â”‚
â”‚â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚                         â”‚â”‚
â”‚â”‚  â”‚ ğŸš§ [FEATURE Phase 3] New View        â”‚   â”‚  Domain:                â”‚â”‚
â”‚â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  api.github.com         â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â”‚  â–¶ api.github.com                           â”‚  Type: A                â”‚â”‚
â”‚â”‚      A         140.82.121.6       TTL: 60s  â”‚                         â”‚â”‚
â”‚â”‚                                             â”‚  Value:                 â”‚â”‚
â”‚â”‚    fonts.googleapis.com                     â”‚  140.82.121.6           â”‚â”‚
â”‚â”‚      CNAME     fonts.gstatic.com  TTL: 300s â”‚                         â”‚â”‚
â”‚â”‚                                             â”‚  TTL: 60 seconds        â”‚â”‚
â”‚â”‚    cdn.example.com                          â”‚                         â”‚â”‚
â”‚â”‚      A         1.2.3.4            TTL: 600s â”‚  Resolved:              â”‚â”‚
â”‚â”‚                                             â”‚  2 minutes ago          â”‚â”‚
â”‚â”‚    ipv6.google.com                          â”‚                         â”‚â”‚
â”‚â”‚      AAAA      2404:6800::200e    TTL: 120s â”‚  Remaining TTL:         â”‚â”‚
â”‚â”‚                                             â”‚  58 seconds             â”‚â”‚
â”‚â”‚    example.com                              â”‚                         â”‚â”‚
â”‚â”‚      A         93.184.216.34      TTL: 3600sâ”‚                         â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â”‚  ... (95 more)                              â”‚                         â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â”‚                                             â”‚                         â”‚â”‚
â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚ [q]uit  [?]help                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Description:**
- ğŸš§ **[FEATURE Phase 3]**: Complete DNS view
  - DNS cache list (domain, type, value, TTL)
  - Record detail display
  - Search functionality
  - Flush cache (`f` key)

---

## Shortcut Key Overview

### Global Shortcuts

| Key | Function | Description |
|-----|----------|-------------|
| `q` | Quit | Exit program directly |
| `r` | Refresh | Manually refresh data |
| `?` | Help | Show shortcut help |
| `1-4` | Switch view | Implemented: Overview/Policies/Requests/Connections |
| `5` | DNS view | ğŸš§ [FEATURE Phase 3] |
| `â†‘/â†“` | Navigate | Move up/down |
| `h/l` | Switch left/right | Switch apps in group mode |

### View-Specific Shortcuts

| View | Key | Function | Status |
|------|-----|----------|--------|
| **Overview** | `m` | Toggle outbound mode | âœ… Implemented |
| | `i` | Toggle MITM | ğŸš§ [FEATURE Phase 2] |
| | `c` | Toggle Capture | ğŸš§ [FEATURE Phase 2] |
| **Policies** | `Enter` | Enter/select policy | âœ… Implemented |
| | `ESC` | Back to group list | âœ… Implemented |
| | `t` | Test latency | âœ… Implemented |
| | `/` | Search | âœ… Implemented |
| **Requests** | `/` | Search | âœ… Implemented |
| | `g` | Toggle group mode | âœ… Implemented |
| **Connections** | `/` | Search | âœ… Implemented |
| | `g` | Toggle group mode | âœ… Implemented |
| | `k` | Kill connection | ğŸš§ [FEATURE Phase 1] |
| **DNS** | `/` | Search | ğŸš§ [FEATURE Phase 3] |
| | `f` | Flush cache | ğŸš§ [FEATURE Phase 3] |

---

## Feature Label Description

- âœ… **Implemented**: Features completed and available in current version
- ğŸš§ **[FEATURE Phase X]**: Planned new features, X indicates implementation priority
  - **Phase 1**: Connection kill (highest priority, 15-30 minutes)
  - **Phase 2**: MITM/Capture toggles (medium priority, 30-45 minutes)
  - **Phase 3**: DNS view (optional feature, 1-2 hours)

---

## UI Design Principles

### Consistency

All list views follow a unified pattern:
- **Left**: Main list (60%)
- **Right**: Detail panel (40%)
- **Title**: Display view name + shortcut hints (btop style)
- **Search**: Uniformly use `/` key, display `[Search: xxxâ–ˆ]`

### Color Scheme

| Color | Usage |
|-------|-------|
| **Yellow** | Shortcut highlights |
| **Cyan** | Primary info (URLs, domains, app names) |
| **Green** | Success status (completed, enabled, low latency) |
| **Red** | Error status (failed, disabled, unavailable) |
| **Yellow** | In-progress status, medium latency |
| **White** | Normal text |
| **Gray** | Secondary info (process paths, timestamps) |

### Interaction Feedback

All operations provide immediate feedback:
- **Success**: Green notification "âœ“ Operation succeeded"
- **Failure**: Red notification "âœ— Operation failed: reason"
- **Destructive operations**: Show confirmation dialog (kill connection, flush cache)
- **Status changes**: Refresh display immediately (toggle switches, modes)

---

*Generated with [Claude Code](https://claude.com/claude-code) via [Happy](https://happy.engineering)*
